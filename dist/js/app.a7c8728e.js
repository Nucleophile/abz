(function(){"use strict";var e={3840:function(e,t,n){var r=n(9242),a=n(3396);function i(e,t,n,r,i,o){const l=(0,a.up)("HeaderBlock"),s=(0,a.up)("MainBlock"),u=(0,a.up)("GetRequest"),c=(0,a.up)("PostRequest");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l),(0,a.Wm)(s),(0,a.Wm)(u,{usersReloadFlag:r.usersReloadFlag},null,8,["usersReloadFlag"]),(0,a.Wm)(c,{onSuccessfulRegistration:t[0]||(t[0]=e=>r.usersReloadFlag++)})],64)}var o=n(4870),l=n.p+"img/logo.0902afb7.svg";const s=(0,a.uE)('<div class="container"><div class="header__content"><img src="'+l+'" alt="TESTTASK"><ul class="header-actions-list"><li><a href="#users" class="btn btn--default">Users</a></li><li><a href="#sign-up" class="btn btn--default">Sign up</a></li></ul></div></div>',1),u=[s];function c(e,t,n,r,i,o){return(0,a.wg)(),(0,a.iD)("header",null,u)}var d={name:"HeaderBlock"},p=n(89);const g=(0,p.Z)(d,[["render",c]]);var f=g;const m={class:"main-block"},v=(0,a.uE)('<div class="container"><div class="main-block__content"><div class="main-block__text"><h1 class="main-block__heading"> Test assignment for front-end developer </h1><p class="main-block__p"> What defines a good front-end developer is one that has skilled knowledge of HTML, CSS, JS with a vast understanding of User design thinking as they&#39;ll be building web interfaces with accessibility in mind. They should also be excited to learn, as the world of Front-End Development keeps evolving. </p><a href="#sign-up" class="btn btn--default">Sign up</a></div></div></div>',1),h=[v];function b(e,t,n,r,i,o){return(0,a.wg)(),(0,a.iD)("article",m,h)}var w={name:"MainBLock"};const _=(0,p.Z)(w,[["render",b]]);var k=_;const x={class:"get-request",id:"users"},y={class:"container"},E=(0,a._)("h1",null,"Working with GET request",-1),S={key:0,class:"users-list"},z={key:1,class:"error-msg"};function D(e,t,n,r,i,o){const l=(0,a.up)("UserCard"),s=(0,a.up)("PreloaderEl");return(0,a.wg)(),(0,a.iD)("article",x,[(0,a._)("div",y,[E,r.users.length?((0,a.wg)(),(0,a.iD)("ul",S,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.users,(e=>((0,a.wg)(),(0,a.iD)("li",{class:"users-list__item",key:e.id},[(0,a.Wm)(l,{user:e},null,8,["user"])])))),128))])):(0,a.kq)("",!0),r.loadingError?((0,a.wg)(),(0,a.iD)("p",z," Can't load users list. Please, try again later ")):(0,a.kq)("",!0),r.loading?((0,a.wg)(),(0,a.j4)(s,{key:2})):(0,a.kq)("",!0),r.showMoreShown?((0,a.wg)(),(0,a.iD)("button",{key:3,class:"btn btn--default",onClick:t[0]||(t[0]=(...e)=>r.loadUsers&&r.loadUsers(...e))}," Show more ")):(0,a.kq)("",!0)])])}var P=n(7139);const R={class:"userCard"},j=["src","alt"],C=["title"],q=["title"],H=["title"],T=["href"],M=["title"];function O(e,t,n,r,i,o){return(0,a.wg)(),(0,a.iD)("div",R,[(0,a._)("img",{class:"userCard__img",src:n.user.photo,alt:n.user.name+" Photo"},null,8,j),(0,a._)("p",{class:"userCard__name",title:n.user.name},(0,P.zw)(n.user.name),9,C),(0,a._)("p",{title:n.user.position},(0,P.zw)(n.user.position),9,q),(0,a._)("p",{title:n.user.email},[(0,a._)("a",{href:"mailto:"+n.user.email,class:"userCard__email-link"},(0,P.zw)(n.user.email),9,T)],8,H),(0,a._)("p",{title:n.user.phone},(0,P.zw)(n.user.phone),9,M)])}var F={name:"UserCard",props:{user:Object}};const U=(0,p.Z)(F,[["render",O]]);var W=U,V=n.p+"img/preloader.0397d278.svg";const B={class:"preloader"},I=(0,a._)("img",{class:"preloader__img",src:V,alt:"Preloader"},null,-1),X=[I];function Z(e,t,n,r,i,o){return(0,a.wg)(),(0,a.iD)("div",B,X)}var L={name:"PreloaderEl"};const G=(0,p.Z)(L,[["render",Z]]);var Y=G,$={name:"GetRequest",props:{usersReloadFlag:Number},setup(e){const t=(0,o.iH)([]);let n=(0,o.iH)(!0),r=(0,o.iH)(!1);const i="https://frontend-test-assignment-api.abz.agency/api/v1/users?count=6";let l=(0,o.iH)(i);const s=(0,a.Fl)((()=>!!l.value)),{usersReloadFlag:u}=(0,o.BK)(e);function c(){n.value=!0,fetch(l.value).finally((()=>n.value=!1)).then((e=>e.json())).then((e=>{t.value=t.value.concat(e.users),l.value=e.links.next_url})).catch((()=>{r.value=!0}))}return c(),(0,a.YP)(u,(()=>{l.value=i,t.value=[],c()})),{users:t,loading:n,loadingError:r,loadUsers:c,showMoreShown:s}},components:{PreloaderEl:Y,UserCard:W}};const K=(0,p.Z)($,[["render",D]]);var A=K,N=n.p+"img/success-image.1b73a76d.svg";const J={class:"post-request",id:"sign-up"},Q={class:"container"},ee={key:0},te=(0,a._)("h1",null,"Working with POST request",-1),ne={class:"content-small"},re={class:"position-fieldset"},ae=(0,a._)("legend",{class:"position-fieldset__legend"}," Select your position ",-1),ie={key:1,class:"error-msg"},oe={key:2},le={key:0,class:"error-msg form-error-msg"},se={class:"ta-center"},ue=["disabled"],ce={key:1,class:"success-section"},de=(0,a._)("h1",null,"User successfully registered",-1),pe=(0,a._)("img",{src:N,alt:"Successful registration"},null,-1),ge=[de,pe];function fe(e,t,n,i,o,l){const s=(0,a.up)("TextInput"),u=(0,a.up)("PreloaderEl"),c=(0,a.up)("RadioInput"),d=(0,a.up)("FileInput");return(0,a.wg)(),(0,a.iD)("article",J,[(0,a._)("div",Q,[i.successfullyRegistered?((0,a.wg)(),(0,a.iD)("section",ce,ge)):((0,a.wg)(),(0,a.iD)("section",ee,[te,(0,a._)("div",ne,[(0,a._)("form",{method:"POST",onSubmit:t[1]||(t[1]=(0,r.iM)(((...e)=>i.submitForm&&i.submitForm(...e)),["prevent"]))},[(0,a.Wm)(s,{name:"name",label:"Your name",error:i.getErrorPropValue("name"),onValidate:t[0]||(t[0]=e=>i.validateLength(2,60,e))},null,8,["error"]),(0,a.Wm)(s,{type:"email",name:"email",label:"Email",error:i.getErrorPropValue("email"),onValidate:i.validateRegEx},null,8,["error","onValidate"]),(0,a.Wm)(s,{type:"tel",name:"phone",label:"Phone",info:"+38 (XXX) XXX - XX - XX",error:i.getErrorPropValue("phone"),onValidate:i.validateRegEx},null,8,["error","onValidate"]),(0,a._)("fieldset",re,[ae,i.loading?((0,a.wg)(),(0,a.j4)(u,{key:0})):(0,a.kq)("",!0),i.loadingErrorMsg?((0,a.wg)(),(0,a.iD)("p",ie,(0,P.zw)(i.loadingErrorMsg),1)):((0,a.wg)(),(0,a.iD)("ul",oe,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.positions,((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:e.id},[(0,a.Wm)(c,{name:"position_id",value:e.id,label:e.name,checked:0===t},null,8,["value","label","checked"])])))),128))]))]),(0,a.Wm)(d,{error:i.getErrorPropValue("photo"),onChange:i.validatePhoto},null,8,["error","onChange"]),i.formSubmitErrorMsg?((0,a.wg)(),(0,a.iD)("p",le,(0,P.zw)(i.formSubmitErrorMsg),1)):(0,a.kq)("",!0),i.sending?((0,a.wg)(),(0,a.j4)(u,{key:1,class:"form-preloader"})):(0,a.kq)("",!0),(0,a._)("div",se,[(0,a._)("button",{class:"btn btn--default",disabled:!i.isValid}," Sign up ",8,ue)])],32)])]))])])}n(1703);const me=["type","id","name"],ve=["for"],he={key:0,class:"text-input-info text-input-info--error"},be={key:1,class:"text-input-info"};function we(e,t,n,r,i,o){return(0,a.wg)(),(0,a.iD)("div",{class:(0,P.C_)(["form-control",{"form-control--error":n.error}])},[(0,a._)("input",{class:"text-input",type:n.type,id:n.id,name:n.name,placeholder:" ",onBlurOnce:t[0]||(t[0]=(...e)=>r.validate&&r.validate(...e)),onInput:t[1]||(t[1]=(...e)=>r.validate&&r.validate(...e))},null,40,me),(0,a._)("label",{class:"text-input-label",for:n.id},(0,P.zw)(n.label),9,ve),!0===n.error?((0,a.wg)(),(0,a.iD)("div",he," Wrong value ")):(0,a.kq)("",!0),r.infoMsg?((0,a.wg)(),(0,a.iD)("div",be,(0,P.zw)(r.infoMsg),1)):(0,a.kq)("",!0)],2)}var _e={name:"TextInput",props:{type:{type:String,default:"text"},name:String,id:{type:String,default:e=>e.name},label:String,info:String,error:Boolean},emits:["validate"],setup(e,{emit:t}){let n=(0,o.iH)(e.info),r=!1;function a(e){("input"!==e.type||r)&&(r=!0,t("validate",e))}return{infoMsg:n,validate:a}},components:{}};const ke=(0,p.Z)(_e,[["render",we]]);var xe=ke;const ye={class:"form-control radio-input-form-control"},Ee=["name","value","id","checked"],Se=["for"];function ze(e,t,n,r,i,o){return(0,a.wg)(),(0,a.iD)("div",ye,[(0,a._)("input",{class:"radio-input",type:"radio",name:n.name,value:n.value,id:r.id,checked:n.checked},null,8,Ee),(0,a._)("label",{class:"radio-input-label",for:r.id},(0,P.zw)(n.label),9,Se)])}var De={name:"RadioInput",props:{name:String,value:Number,label:String,checked:Boolean},setup(e){const t=e.name+e.value;return{id:t}}};const Pe=(0,p.Z)(De,[["render",ze]]);var Re=Pe;const je={class:"file-input-container"},Ce=(0,a._)("span",{class:"file-input-label__button"},"Upload",-1),qe={class:"file-input-label__text"},He={key:0,class:"text-input-info text-input-info--error"};function Te(e,t,n,r,i,o){return(0,a.wg)(),(0,a.iD)("div",{class:(0,P.C_)(["form-control",{"form-control--error":n.error}])},[(0,a._)("div",je,[(0,a._)("input",(0,a.dG)({class:"file-input",type:"file",name:"photo",id:"photo",accept:"image/jpg, image/jpeg",onChange:t[0]||(t[0]=(...e)=>r.inputChange&&r.inputChange(...e))},e.$attrs),null,16),(0,a._)("label",{class:(0,P.C_)(["file-input-label",{"file-input-label--selected":r.fileSelected}]),for:"photo"},[Ce,(0,a._)("span",qe,(0,P.zw)(r.labelText),1)],2)]),!0===n.error?((0,a.wg)(),(0,a.iD)("div",He," Wrong value. Minimum size of photo is 70x70px. The photo format must be jpeg/jpg. The photo size must not be greater than 5Â Mb ")):(0,a.kq)("",!0)],2)}var Me={name:"FileInput",inheritAttrs:!1,props:{error:Boolean},setup(){const e="Upload your photo",t=(0,o.iH)(e),n=(0,o.iH)(!1);function r(r){r.target.files[0]?(t.value=r.target.files[0].name,n.value=!0):(t.value=e,n.value=!1)}return{labelText:t,fileSelected:n,inputChange:r}}};const Oe=(0,p.Z)(Me,[["render",Te]]);var Fe=Oe,Ue={name:"PostRequest",emits:["successful-registration"],setup(e,{emit:t}){const n=(0,o.iH)([]),r=(0,o.iH)(!0),i=(0,o.iH)(!1),l=(0,o.iH)(""),s=(0,o.qj)({name:null,email:null,phone:null,photo:null}),u={email:/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/,phone:/^[\+]{0,1}380([0-9]{9})$/},c=(0,o.iH)(!1),d=(0,o.iH)(""),p=(0,a.Fl)((()=>Object.values(s).every((e=>e))));function g(e,t,n){let r=!1;n.target.value.length>=e&&n.target.value.length<=t&&(r=!0),s[n.target.name]=r}function f(e){const t=u[e.target.name];s[e.target.name]=t.test(e.target.value)}function m(e){let t=0,n=0;const r=document.createElement("img"),a=URL.createObjectURL(e.target.files[0]);r.onload=function(){t=this.width,n=this.height,URL.revokeObjectURL(a),"image/jpeg"===e.target.files[0].type&&e.target.files[0].size<=5242880&&t>=70&&n>=70?s.photo=!0:s.photo=!1},r.src=a}function v(e){return!1===s[e]}function h(e){i.value||(i.value=!0,d.value="",fetch("https://frontend-test-assignment-api.abz.agency/api/v1/token").then((e=>e.json())).then((t=>{if(t.success){const n=t.token;return fetch("https://frontend-test-assignment-api.abz.agency/api/v1/users",{method:"POST",headers:{Token:n},body:new FormData(e.target)})}throw new Error})).finally((()=>i.value=!1)).then((e=>e.json())).then((e=>{if(!e.success)throw new Error(e.message);c.value=!0,t("successful-registration")})).catch((()=>{d.value="Sorry, something went wrong. Please, try again later"})))}return fetch("https://frontend-test-assignment-api.abz.agency/api/v1/positions").finally((()=>r.value=!1)).then((e=>e.json())).then((e=>{if(!e.success)throw new Error;n.value=e.positions})).catch((()=>{l.value="Couldn't get positions list. Try to reload the page",s.position=!1})),{positions:n,loading:r,sending:i,loadingErrorMsg:l,fieldsValidity:s,isValid:p,validateLength:g,validateRegEx:f,validatePhoto:m,getErrorPropValue:v,submitForm:h,successfullyRegistered:c,formSubmitErrorMsg:d}},components:{TextInput:xe,RadioInput:Re,FileInput:Fe,PreloaderEl:Y}};const We=(0,p.Z)(Ue,[["render",fe]]);var Ve=We,Be={name:"App",setup(){const e=(0,o.iH)(0);return{usersReloadFlag:e}},components:{HeaderBlock:f,MainBlock:k,GetRequest:A,PostRequest:Ve}};const Ie=(0,p.Z)(Be,[["render",i]]);var Xe=Ie;(0,r.ri)(Xe).mount("#app")}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,r,a,i){if(!r){var o=1/0;for(c=0;c<e.length;c++){r=e[c][0],a=e[c][1],i=e[c][2];for(var l=!0,s=0;s<r.length;s++)(!1&i||o>=i)&&Object.keys(n.O).every((function(e){return n.O[e](r[s])}))?r.splice(s--,1):(l=!1,i<o&&(o=i));if(l){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[r,a,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.p="/"}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,i,o=r[0],l=r[1],s=r[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(s)var c=s(n)}for(t&&t(r);u<o.length;u++)i=o[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(c)},r=self["webpackChunkabz"]=self["webpackChunkabz"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(3840)}));r=n.O(r)})();
//# sourceMappingURL=app.a7c8728e.js.map