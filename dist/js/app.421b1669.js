(function(){"use strict";var e={2280:function(e,t,n){var r=n(9242),a=n(3396);function o(e,t,n,r,o,s){const i=(0,a.up)("HeaderBlock"),l=(0,a.up)("MainBlock"),u=(0,a.up)("GetRequest"),c=(0,a.up)("PostRequest");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(i),(0,a.Wm)(l),(0,a.Wm)(u,{usersReloadFlag:r.usersReloadFlag},null,8,["usersReloadFlag"]),(0,a.Wm)(c,{onSuccessfulRegistration:t[0]||(t[0]=e=>r.usersReloadFlag++)})],64)}var s=n(4870),i=n.p+"img/logo.0902afb7.svg";const l=(0,a.uE)('<div class="container"><div class="header__content"><img src="'+i+'" alt="TESTTASK"><ul class="header-actions-list"><li><a href="#users" class="btn btn--default">Users</a></li><li><a href="#sign-up" class="btn btn--default">Sign up</a></li></ul></div></div>',1),u=[l];function c(e,t,n,r,o,s){return(0,a.wg)(),(0,a.iD)("header",null,u)}var d={name:"HeaderBlock"},p=n(89);const g=(0,p.Z)(d,[["render",c]]);var f=g;const m={class:"main-block"},h=(0,a.uE)('<div class="container"><div class="main-block__content"><div class="main-block__text"><h1 class="main-block__heading"> Test assignment for front-end developer </h1><p class="main-block__p"> What defines a good front-end developer is one that has skilled knowledge of HTML, CSS, JS with a vast understanding of User design thinking as they&#39;ll be building web interfaces with accessibility in mind. They should also be excited to learn, as the world of Front-End Development keeps evolving. </p><a href="#sign-up" class="btn btn--default">Sign up</a></div></div></div>',1),v=[h];function b(e,t,n,r,o,s){return(0,a.wg)(),(0,a.iD)("article",m,v)}var w={name:"MainBLock"};const _=(0,p.Z)(w,[["render",b]]);var k=_;const x={class:"get-request",id:"users"},y={class:"container"},E=(0,a._)("h1",null,"Working with GET request",-1),S={key:0,class:"users-list"},z={key:1,class:"error-msg"};function D(e,t,n,r,o,s){const i=(0,a.up)("UserCard"),l=(0,a.up)("PreloaderEl");return(0,a.wg)(),(0,a.iD)("article",x,[(0,a._)("div",y,[E,r.users.length?((0,a.wg)(),(0,a.iD)("ul",S,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.users,(e=>((0,a.wg)(),(0,a.iD)("li",{class:"users-list__item",key:e.id},[(0,a.Wm)(i,{user:e},null,8,["user"])])))),128))])):(0,a.kq)("",!0),r.loadingError?((0,a.wg)(),(0,a.iD)("p",z," Can't load users list. Please, try again later ")):(0,a.kq)("",!0),r.loading?((0,a.wg)(),(0,a.j4)(l,{key:2})):(0,a.kq)("",!0),r.showMoreShown?((0,a.wg)(),(0,a.iD)("button",{key:3,class:"btn btn--default",onClick:t[0]||(t[0]=(...e)=>r.loadUsers&&r.loadUsers(...e))}," Show more ")):(0,a.kq)("",!0)])])}var P=n(7139);const R={class:"userCard"},j=["src","alt"],O=["title"],C=["title"],q=["title"],H=["href"],T=["title"];function M(e,t,n,r,o,s){return(0,a.wg)(),(0,a.iD)("div",R,[(0,a._)("img",{class:"userCard__img",src:n.user.photo,alt:n.user.name+" Photo"},null,8,j),(0,a._)("p",{class:"userCard__name",title:n.user.name},(0,P.zw)(n.user.name),9,O),(0,a._)("p",{title:n.user.position},(0,P.zw)(n.user.position),9,C),(0,a._)("p",{title:n.user.email},[(0,a._)("a",{href:"mailto:"+n.user.email,class:"userCard__email-link"},(0,P.zw)(n.user.email),9,H)],8,q),(0,a._)("p",{title:n.user.phone},(0,P.zw)(n.user.phone),9,T)])}var F={name:"UserCard",props:{user:Object}};const B=(0,p.Z)(F,[["render",M]]);var U=B,W=n.p+"img/preloader.0397d278.svg";const L={class:"preloader"},X=(0,a._)("img",{class:"preloader__img",src:W,alt:"Preloader"},null,-1),Z=[X];function I(e,t,n,r,o,s){return(0,a.wg)(),(0,a.iD)("div",L,Z)}var V={name:"PreloaderEl"};const G=(0,p.Z)(V,[["render",I]]);var $=G,Y={name:"GetRequest",props:{usersReloadFlag:Number},setup(e){const t=(0,s.iH)([]);let n=(0,s.iH)(!0),r=(0,s.iH)(!1);const o="https://frontend-test-assignment-api.abz.agency/api/v1/users?count=6";let i=(0,s.iH)(o);const l=(0,a.Fl)((()=>!!i.value)),{usersReloadFlag:u}=(0,s.BK)(e);function c(){n.value=!0,fetch(i.value).finally((()=>n.value=!1)).then((e=>e.json())).then((e=>{t.value=t.value.concat(e.users),i.value=e.links.next_url})).catch((()=>{r.value=!0}))}return c(),(0,a.YP)(u,(()=>{i.value=o,t.value=[],c()})),{users:t,loading:n,loadingError:r,loadUsers:c,showMoreShown:l}},components:{PreloaderEl:$,UserCard:U}};const A=(0,p.Z)(Y,[["render",D]]);var K=A,N=n.p+"img/success-image.1b73a76d.svg";const J={class:"post-request",id:"sign-up"},Q={class:"container"},ee={key:0},te=(0,a._)("h1",null,"Working with POST request",-1),ne={class:"content-small"},re={class:"position-fieldset"},ae=(0,a._)("legend",{class:"position-fieldset__legend"}," Select your position ",-1),oe={key:1,class:"error-msg"},se={key:2},ie={key:0,class:"error-msg form-error-msg"},le={class:"ta-center"},ue=["disabled"],ce={key:1,class:"success-section"},de=(0,a._)("h1",null,"User successfully registered",-1),pe=(0,a._)("img",{src:N,alt:"Successful registration"},null,-1),ge=[de,pe];function fe(e,t,n,o,s,i){const l=(0,a.up)("TextInput"),u=(0,a.up)("PreloaderEl"),c=(0,a.up)("RadioInput"),d=(0,a.up)("FileInput");return(0,a.wg)(),(0,a.iD)("article",J,[(0,a._)("div",Q,[o.successfullyRegistered?((0,a.wg)(),(0,a.iD)("section",ce,ge)):((0,a.wg)(),(0,a.iD)("section",ee,[te,(0,a._)("div",ne,[(0,a._)("form",{method:"POST",onSubmit:t[1]||(t[1]=(0,r.iM)(((...e)=>o.submitForm&&o.submitForm(...e)),["prevent"]))},[(0,a.Wm)(l,{name:"name",label:"Your name",error:o.getErrorPropValue("name"),onBlurOnce:t[0]||(t[0]=e=>o.validateLength(2,60,e))},null,8,["error"]),(0,a.Wm)(l,{type:"email",name:"email",label:"Email",error:o.getErrorPropValue("email"),onBlurOnce:o.validateRegEx},null,8,["error","onBlurOnce"]),(0,a.Wm)(l,{type:"tel",name:"phone",label:"Phone",info:"+38 (XXX) XXX - XX - XX",error:o.getErrorPropValue("phone"),onBlurOnce:o.validateRegEx},null,8,["error","onBlurOnce"]),(0,a._)("fieldset",re,[ae,o.loading?((0,a.wg)(),(0,a.j4)(u,{key:0})):(0,a.kq)("",!0),o.loadingErrorMsg?((0,a.wg)(),(0,a.iD)("p",oe,(0,P.zw)(o.loadingErrorMsg),1)):((0,a.wg)(),(0,a.iD)("ul",se,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.positions,((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:e.id},[(0,a.Wm)(c,{name:"position_id",value:e.id,label:e.name,checked:0===t},null,8,["value","label","checked"])])))),128))]))]),(0,a.Wm)(d,{error:o.getErrorPropValue("photo"),onChange:o.validatePhoto},null,8,["error","onChange"]),o.formSubmitErrorMsg?((0,a.wg)(),(0,a.iD)("p",ie,(0,P.zw)(o.formSubmitErrorMsg),1)):(0,a.kq)("",!0),o.sending?((0,a.wg)(),(0,a.j4)(u,{key:1,class:"form-preloader"})):(0,a.kq)("",!0),(0,a._)("div",le,[(0,a._)("button",{class:"btn btn--default",disabled:!o.isValid}," Sign up ",8,ue)])],32)])]))])])}n(1703);const me=["type","id","name"],he=["for"],ve={key:0,class:"text-input-info text-input-info--error"},be={key:1,class:"text-input-info"};function we(e,t,n,r,o,s){return(0,a.wg)(),(0,a.iD)("div",{class:(0,P.C_)(["form-control",{"form-control--error":n.error}])},[(0,a._)("input",(0,a.dG)({class:"text-input",type:n.type,id:n.id,name:n.name,placeholder:" "},e.$attrs),null,16,me),(0,a._)("label",{class:"text-input-label",for:n.id},(0,P.zw)(n.label),9,he),!0===n.error?((0,a.wg)(),(0,a.iD)("div",ve," Wrong value ")):(0,a.kq)("",!0),r.infoMsg?((0,a.wg)(),(0,a.iD)("div",be,(0,P.zw)(r.infoMsg),1)):(0,a.kq)("",!0)],2)}var _e={name:"TextInput",inheritAttrs:!1,props:{type:{type:String,default:"text"},name:String,id:{type:String,default:e=>e.name},label:String,info:String,error:Boolean},setup(e){let t=(0,s.iH)(e.info);return{infoMsg:t}},components:{}};const ke=(0,p.Z)(_e,[["render",we]]);var xe=ke;const ye={class:"form-control radio-input-form-control"},Ee=["name","value","id","checked"],Se=["for"];function ze(e,t,n,r,o,s){return(0,a.wg)(),(0,a.iD)("div",ye,[(0,a._)("input",{class:"radio-input",type:"radio",name:n.name,value:n.value,id:r.id,checked:n.checked},null,8,Ee),(0,a._)("label",{class:"radio-input-label",for:r.id},(0,P.zw)(n.label),9,Se)])}var De={name:"RadioInput",props:{name:String,value:Number,label:String,checked:Boolean},setup(e){const t=e.name+e.value;return{id:t}}};const Pe=(0,p.Z)(De,[["render",ze]]);var Re=Pe;const je=(0,a._)("span",{class:"file-input-label__button"},"Upload",-1),Oe={class:"file-input-label__text"},Ce={key:0,class:"text-input-info text-input-info--error"};function qe(e,t,n,r,o,s){return(0,a.wg)(),(0,a.iD)("div",{class:(0,P.C_)(["form-control",{"form-control--error":n.error}])},[(0,a._)("input",(0,a.dG)({class:"file-input",type:"file",name:"photo",id:"photo",accept:"image/jpg, image/jpeg",onChange:t[0]||(t[0]=(...e)=>r.inputChange&&r.inputChange(...e))},e.$attrs),null,16),(0,a._)("label",{class:(0,P.C_)(["file-input-label",{"file-input-label--selected":r.fileSelected}]),for:"photo"},[je,(0,a._)("span",Oe,(0,P.zw)(r.labelText),1)],2),!0===n.error?((0,a.wg)(),(0,a.iD)("div",Ce," Wrong value. Minimum size of photo is 70x70px. The photo format must be jpeg/jpg. The photo size must not be greater than 5Â Mb ")):(0,a.kq)("",!0)],2)}var He={name:"FileInput",inheritAttrs:!1,props:{error:Boolean},setup(){const e="Upload your photo",t=(0,s.iH)(e),n=(0,s.iH)(!1);function r(r){r.target.files[0]?(t.value=r.target.files[0].name,n.value=!0):(t.value=e,n.value=!1)}return{labelText:t,fileSelected:n,inputChange:r}}};const Te=(0,p.Z)(He,[["render",qe]]);var Me=Te,Fe={name:"PostRequest",emits:["successful-registration"],setup(e,{emit:t}){const n=(0,s.iH)([]),r=(0,s.iH)(!0),o=(0,s.iH)(!1),i=(0,s.iH)(""),l=(0,s.qj)({name:null,email:null,phone:null,photo:null}),u={email:/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/,phone:/^[\+]{0,1}380([0-9]{9})$/},c=(0,s.iH)(!1),d=(0,s.iH)(""),p=(0,a.Fl)((()=>Object.values(l).every((e=>e))));function g(e,t,n,r){let a=!1;n.target.value.length>=e&&n.target.value.length<=t&&(a=!0),l[n.target.name]=a,r||n.target.addEventListener("input",(n=>g(e,t,n,!0)))}function f(e,t){const n=u[e.target.name];l[e.target.name]=n.test(e.target.value),t||e.target.addEventListener("input",(e=>f(e,!0)))}function m(e){let t=0,n=0;const r=document.createElement("img"),a=URL.createObjectURL(e.target.files[0]);r.onload=function(){t=this.width,n=this.height,URL.revokeObjectURL(a),"image/jpeg"===e.target.files[0].type&&e.target.files[0].size<=5242880&&t>=70&&n>=70?l.photo=!0:l.photo=!1},r.src=a}function h(e){return!1===l[e]}function v(e){o.value||(o.value=!0,d.value="",fetch("https://frontend-test-assignment-api.abz.agency/api/v1/token").then((e=>e.json())).then((t=>{if(t.success){const n=t.token;return fetch("https://frontend-test-assignment-api.abz.agency/api/v1/users",{method:"POST",headers:{Token:n},body:new FormData(e.target)})}throw new Error})).finally((()=>o.value=!1)).then((e=>e.json())).then((e=>{if(!e.success)throw new Error(e.message);c.value=!0,t("successful-registration")})).catch((()=>{d.value="Sorry, something went wrong. Please, try again later"})))}return fetch("https://frontend-test-assignment-api.abz.agency/api/v1/positions").finally((()=>r.value=!1)).then((e=>e.json())).then((e=>{if(!e.success)throw new Error;n.value=e.positions})).catch((()=>{i.value="Couldn't get positions list. Try to reload the page",l.position=!1})),{positions:n,loading:r,sending:o,loadingErrorMsg:i,fieldsValidity:l,isValid:p,validateLength:g,validateRegEx:f,validatePhoto:m,getErrorPropValue:h,submitForm:v,successfullyRegistered:c,formSubmitErrorMsg:d}},components:{TextInput:xe,RadioInput:Re,FileInput:Me,PreloaderEl:$}};const Be=(0,p.Z)(Fe,[["render",fe]]);var Ue=Be,We={name:"App",setup(){const e=(0,s.iH)(0);return{usersReloadFlag:e}},components:{HeaderBlock:f,MainBlock:k,GetRequest:K,PostRequest:Ue}};const Le=(0,p.Z)(We,[["render",o]]);var Xe=Le;(0,r.ri)(Xe).mount("#app")}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,r,a,o){if(!r){var s=1/0;for(c=0;c<e.length;c++){r=e[c][0],a=e[c][1],o=e[c][2];for(var i=!0,l=0;l<r.length;l++)(!1&o||s>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[l])}))?r.splice(l--,1):(i=!1,o<s&&(s=o));if(i){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[r,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.p="/"}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,o,s=r[0],i=r[1],l=r[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(l)var c=l(n)}for(t&&t(r);u<s.length;u++)o=s[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(c)},r=self["webpackChunkabz"]=self["webpackChunkabz"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(2280)}));r=n.O(r)})();
//# sourceMappingURL=app.421b1669.js.map